{"ast":null,"code":"import axios from '../../node_modules/axios';\nconst USER_API_BASE_URL = \"http://localhost:8084/api/v1\";\nexport const USER_NAME_SESSION_ATTRIBUTE_NAME = \"authenticatedUser\";\n\nclass UserService {\n  constructor() {\n    this.validateUser = async (email, password) => {\n      const USER_API_BASE_URL = \"http://localhost:8084/api/v1/users\";\n      const response = await axios.get(USER_API_BASE_URL + '/' + email);\n      let res = response.data;\n      console.log(res);\n\n      if (res.password == password) {\n        let data = {\n          email: res.emailId,\n          password: res.password,\n          id: res.id,\n          userType: res.userType,\n          companyName: res.companyName,\n          firstname: res.firstName,\n          lastname: res.lastName\n        };\n        localStorage.setItem(USER_NAME_SESSION_ATTRIBUTE_NAME, JSON.stringify(data));\n        sessionStorage.setItem(\"id\", res.id);\n        console.log(data);\n        console.log(data['id']);\n        return true;\n      }\n    };\n\n    this.getAllAds = async () => {\n      let id = sessionStorage.getItem(\"id\");\n      const USER_API_BASE_URL = \"http://localhost:8084/api/v1/adv\";\n      const response = await axios.get(USER_API_BASE_URL + \"/\" + id);\n      let list = response.data;\n      return list;\n    };\n\n    this.getAllAdsByCompanyName = async () => {\n      let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n      let cName = JSON.parse(user).companyName;\n      console.log(user);\n      const USER_API_BASE_URL = \"http://localhost:8084/api/v1/adv\";\n      console.log(cName);\n      const response = await axios.get(USER_API_BASE_URL + \"/\" + cName + \"/Pending\");\n      let list = response.data;\n      return list;\n    };\n  }\n\n  createUser(user) {\n    console.log(user);\n    return axios.post(USER_API_BASE_URL.concat(\"/users\"), user);\n  }\n\n  createAd(advertisement) {\n    console.log(advertisement);\n    return axios.post(USER_API_BASE_URL.concat(\"/adv\"), advertisement);\n  }\n\n  isUserLoggedIn() {\n    let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n    if (user.email == null) return false;else return true;\n  }\n\n  getLoggedInUserId() {\n    let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n    if (user.email == null) return '';else return user.id;\n  }\n\n}\n\nexport default new UserService();","map":{"version":3,"sources":["/home/hritik/Desktop/spring-react/frontend/src/services/UserService.js"],"names":["axios","USER_API_BASE_URL","USER_NAME_SESSION_ATTRIBUTE_NAME","UserService","validateUser","email","password","response","get","res","data","console","log","emailId","id","userType","companyName","firstname","firstName","lastname","lastName","localStorage","setItem","JSON","stringify","sessionStorage","getAllAds","getItem","list","getAllAdsByCompanyName","user","cName","parse","createUser","post","concat","createAd","advertisement","isUserLoggedIn","getLoggedInUserId"],"mappings":"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","sourcesContent":["import axios from '../../node_modules/axios';\n\nconst USER_API_BASE_URL = \"http://localhost:8084/api/v1\";\n\nexport const USER_NAME_SESSION_ATTRIBUTE_NAME = \"authenticatedUser\";\n\nclass UserService {\n\n    createUser(user){\n        console.log(user)\n        return axios.post(USER_API_BASE_URL.concat(\"/users\"),user);\n    }\n\n    createAd(advertisement)\n    {\n        console.log(advertisement)\n        return axios.post(USER_API_BASE_URL.concat(\"/adv\"),advertisement);\n    }\n\n    validateUser = async (email,password) => {\n\n        const USER_API_BASE_URL = \"http://localhost:8084/api/v1/users\";\n          \n        const response = await axios.get(USER_API_BASE_URL + '/' + email);\n          \n        let res = response.data;\n\n        console.log(res)\n        if(res.password == password)\n        {\n            let data = {email:res.emailId, password:res.password, id:res.id , userType:res.userType, companyName:res.companyName, firstname:res.firstName, lastname:res.lastName};\n            localStorage.setItem(USER_NAME_SESSION_ATTRIBUTE_NAME,JSON.stringify(data));\n            sessionStorage.setItem(\"id\",res.id);\n            console.log(data);\n            console.log(data['id']);\n            return true;\n        }\n      }\n      isUserLoggedIn() {\n        let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n\n        if(user.email == null) return false;\n        else return true;\n    }\n\n    getLoggedInUserId() {\n        let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n        if (user.email == null) return '';\n        else return user.id;\n\n    }\n    getAllAds = async () => {\n\n        let id = sessionStorage.getItem(\"id\");\n        const USER_API_BASE_URL = \"http://localhost:8084/api/v1/adv\";\n          \n        const response = await axios.get(USER_API_BASE_URL+\"/\"+id);\n          \n        let list = response.data;\n        return list;\n    }\n\n    getAllAdsByCompanyName = async () => {\n        let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n        let cName = JSON.parse(user).companyName;\n\n        console.log(user)\n        const USER_API_BASE_URL = \"http://localhost:8084/api/v1/adv\";\n          \n        console.log(cName)\n        const response = await axios.get(USER_API_BASE_URL+\"/\"+cName+\"/Pending\");\n          \n        let list = response.data;\n        return list;\n    }\n}\n\nexport default new UserService()"]},"metadata":{},"sourceType":"module"}
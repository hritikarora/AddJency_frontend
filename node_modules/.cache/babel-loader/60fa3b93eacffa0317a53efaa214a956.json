{"ast":null,"code":"import axios from '../../node_modules/axios';\nconst USER_API_BASE_URL = \"http://localhost:8084/api/v1\";\nexport const USER_NAME_SESSION_ATTRIBUTE_NAME = 'authenticatedUser';\n\nclass UserService {\n  constructor() {\n    this.validateUser = async (email, password) => {\n      const USER_API_BASE_URL = \"http://localhost:8084/api/v1/users\";\n      const response = await axios.get(USER_API_BASE_URL + '/' + email);\n      let res = response.data;\n\n      if (res.password == password) {\n        let data = {\n          email: data.emailId,\n          password: data.password,\n          id: data.id\n        };\n        sessionStorage.setItem(USER_NAME_SESSION_ATTRIBUTE_NAME, data);\n        return true;\n      } else {\n        return false;\n      }\n    };\n  }\n\n  createUser(user) {\n    console.log(user);\n    return axios.post(USER_API_BASE_URL.concat(\"/users\"), user);\n  }\n\n  createAd(advertisement) {\n    console.log(advertisement);\n    return axios.post(USER_API_BASE_URL.concat(\"/adv\"), advertisement);\n  }\n\n  isUserLoggedIn() {\n    let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n    if (user.email == null) return false;else return true;\n  }\n\n  getLoggedInUserId() {\n    let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n    if (user.email == null) return '';else return user;\n  }\n\n}\n\nexport default new UserService();","map":{"version":3,"sources":["/home/hritik/Desktop/spring-react/frontend/src/services/UserService.js"],"names":["axios","USER_API_BASE_URL","USER_NAME_SESSION_ATTRIBUTE_NAME","UserService","validateUser","email","password","response","get","res","data","emailId","id","sessionStorage","setItem","createUser","user","console","log","post","concat","createAd","advertisement","isUserLoggedIn","getItem","getLoggedInUserId"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,0BAAlB;AAEA,MAAMC,iBAAiB,GAAG,8BAA1B;AAEA,OAAO,MAAMC,gCAAgC,GAAG,mBAAzC;;AAEP,MAAMC,WAAN,CAAkB;AAAA;AAAA,SAadC,YAbc,GAaC,OAAOC,KAAP,EAAaC,QAAb,KAA0B;AAErC,YAAML,iBAAiB,GAAG,oCAA1B;AAEA,YAAMM,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAUP,iBAAiB,GAAG,GAApB,GAA0BI,KAApC,CAAvB;AAEA,UAAII,GAAG,GAAGF,QAAQ,CAACG,IAAnB;;AAEA,UAAGD,GAAG,CAACH,QAAJ,IAAgBA,QAAnB,EACA;AACI,YAAII,IAAI,GAAG;AAACL,UAAAA,KAAK,EAACK,IAAI,CAACC,OAAZ;AAAqBL,UAAAA,QAAQ,EAACI,IAAI,CAACJ,QAAnC;AAA6CM,UAAAA,EAAE,EAACF,IAAI,CAACE;AAArD,SAAX;AACAC,QAAAA,cAAc,CAACC,OAAf,CAAuBZ,gCAAvB,EAAwDQ,IAAxD;AACA,eAAO,IAAP;AACH,OALD,MAMI;AACA,eAAO,KAAP;AACH;AACF,KA9BW;AAAA;;AAEdK,EAAAA,UAAU,CAACC,IAAD,EAAM;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,WAAOhB,KAAK,CAACmB,IAAN,CAAWlB,iBAAiB,CAACmB,MAAlB,CAAyB,QAAzB,CAAX,EAA8CJ,IAA9C,CAAP;AACH;;AAEDK,EAAAA,QAAQ,CAACC,aAAD,EACR;AACIL,IAAAA,OAAO,CAACC,GAAR,CAAYI,aAAZ;AACA,WAAOtB,KAAK,CAACmB,IAAN,CAAWlB,iBAAiB,CAACmB,MAAlB,CAAyB,MAAzB,CAAX,EAA4CE,aAA5C,CAAP;AACH;;AAoBCC,EAAAA,cAAc,GAAG;AACf,QAAIP,IAAI,GAAGH,cAAc,CAACW,OAAf,CAAuBtB,gCAAvB,CAAX;AAEA,QAAGc,IAAI,CAACX,KAAL,IAAc,IAAjB,EAAuB,OAAO,KAAP,CAAvB,KACK,OAAO,IAAP;AACR;;AAEDoB,EAAAA,iBAAiB,GAAG;AAChB,QAAIT,IAAI,GAAGH,cAAc,CAACW,OAAf,CAAuBtB,gCAAvB,CAAX;AACA,QAAIc,IAAI,CAACX,KAAL,IAAc,IAAlB,EAAwB,OAAO,EAAP,CAAxB,KACK,OAAOW,IAAP;AAER;;AA3Ca;;AA+ClB,eAAe,IAAIb,WAAJ,EAAf","sourcesContent":["import axios from '../../node_modules/axios';\n\nconst USER_API_BASE_URL = \"http://localhost:8084/api/v1\";\n\nexport const USER_NAME_SESSION_ATTRIBUTE_NAME = 'authenticatedUser'\n\nclass UserService {\n\n    createUser(user){\n        console.log(user)\n        return axios.post(USER_API_BASE_URL.concat(\"/users\"),user);\n    }\n\n    createAd(advertisement)\n    {\n        console.log(advertisement)\n        return axios.post(USER_API_BASE_URL.concat(\"/adv\"),advertisement);\n    }\n\n    validateUser = async (email,password) => {\n\n        const USER_API_BASE_URL = \"http://localhost:8084/api/v1/users\";\n          \n        const response = await axios.get(USER_API_BASE_URL + '/' + email);\n          \n        let res = response.data;\n\n        if(res.password == password)\n        {\n            let data = {email:data.emailId, password:data.password, id:data.id};\n            sessionStorage.setItem(USER_NAME_SESSION_ATTRIBUTE_NAME,data);\n            return true;\n        }\n        else{\n            return false;\n        }\n      }\n      isUserLoggedIn() {\n        let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n\n        if(user.email == null) return false;\n        else return true;\n    }\n\n    getLoggedInUserId() {\n        let user = sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME);\n        if (user.email == null) return '';\n        else return user\n\n    }\n\n}\n\nexport default new UserService()"]},"metadata":{},"sourceType":"module"}
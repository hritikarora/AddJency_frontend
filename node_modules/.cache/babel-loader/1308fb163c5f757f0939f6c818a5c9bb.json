{"ast":null,"code":"import _regeneratorRuntime from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,navigation}from\"react\";import\"../css/login.css\";import axios from'../../node_modules/axios';import{useHistory,withRouter}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var USER_API_BASE_URL,response,res,data,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:USER_API_BASE_URL=\"http://localhost:8084/api/v1/users\";_context.next=3;return axios.get(USER_API_BASE_URL+'/'+email);case 3:response=_context.sent;res=response.data;if(res.password==password){data={isLoggedIn:true,email:email,password:password};// alert(\"login success!\");\nprops.onChange(data);// setEmail(\"\")\n// setPassword(\"\")\n}else{_data={isLoggedIn:false,email:\"\",password:\"\"};props.onChange(_data);alert(\"Incorrect credentials!\");}case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{class:\"outer\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Model-in\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"tag\",children:\"Log In!\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",value:email,onChange:function onChange(Event){setEmail(Event.target.value);},placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:password,onChange:function onChange(Event){setPassword(Event.target.value);},placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"submit\",className:\"bt\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"whitesmoke\"},className:\"forgot-password\",children:[\"Forgot \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"password?\"})]})]})})});}export default LoginPage;","map":{"version":3,"sources":["/home/hritik/Desktop/spring-react/frontend/src/components/LoginPage.js"],"names":["React","useState","useEffect","navigation","axios","useHistory","withRouter","LoginPage","props","email","setEmail","password","setPassword","handleSubmit","USER_API_BASE_URL","get","response","res","data","isLoggedIn","onChange","alert","Event","target","value","color"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,SAAxB,CAAkCC,UAAlC,KAAoD,OAApD,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,OAASC,UAAT,CAAoBC,UAApB,KAAqC,kBAArC,C,wFAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAAyB,eAEIP,QAAQ,CAAC,EAAD,CAFZ,wCAEdQ,KAFc,eAERC,QAFQ,8BAGUT,QAAQ,CAAC,EAAD,CAHlB,yCAGdU,QAHc,eAGLC,WAHK,eAKrB,GAAMC,CAAAA,YAAY,0FAAG,iLAEXC,iBAFW,CAES,oCAFT,uBAIMV,CAAAA,KAAK,CAACW,GAAN,CAAUD,iBAAiB,CAAG,GAApB,CAA0BL,KAApC,CAJN,QAIXO,QAJW,eAMbC,GANa,CAMPD,QAAQ,CAACE,IANF,CAOjB,GAAGD,GAAG,CAACN,QAAJ,EAAgBA,QAAnB,CACA,CACQO,IADR,CACe,CAACC,UAAU,CAAC,IAAZ,CAAiBV,KAAK,CAACA,KAAvB,CAA6BE,QAAQ,CAACA,QAAtC,CADf,CAEI;AACAH,KAAK,CAACY,QAAN,CAAeF,IAAf,EACA;AACA;AACH,CAPD,IAQI,CACIA,KADJ,CACW,CAACC,UAAU,CAAC,KAAZ,CAAkBV,KAAK,CAAC,EAAxB,CAA2BE,QAAQ,CAAC,EAApC,CADX,CAEAH,KAAK,CAACY,QAAN,CAAeF,KAAf,EACAG,KAAK,CAAC,wBAAD,CAAL,CAEH,CApBgB,sDAAH,kBAAZR,CAAAA,YAAY,0CAAlB,CAuBA,mBACI,YAAK,KAAK,CAAC,OAAX,uBACC,aAAM,QAAQ,CAAEA,YAAhB,uBACG,aAAK,SAAS,CAAC,UAAf,wBACI,WAAI,SAAS,CAAC,KAAd,qBADJ,cAGI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,KAAK,CAAEJ,KAAxC,CAA+C,QAAQ,CAAE,kBAACa,KAAD,CAAS,CAACZ,QAAQ,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CAA6B,CAAhG,CAAkG,WAAW,CAAC,OAA9G,EAHJ,cAG4H,aAH5H,cAKI,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAEb,QAA9C,CAAwD,QAAQ,CAAE,kBAACW,KAAD,CAAS,CAACV,WAAW,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CAAgC,CAA5G,CAA8G,WAAW,CAAC,UAA1H,EALJ,cAK2I,aAL3I,cAOI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,SAAS,CAAC,IAA9C,EAPJ,cASI,WAAG,KAAK,CAAE,CAACC,KAAK,CAAC,YAAP,CAAV,CAAgC,SAAS,CAAC,iBAA1C,kCACW,UAAG,IAAI,CAAC,GAAR,uBADX,GATJ,GADH,EADD,EADJ,CAmBH,CACD,cAAelB,CAAAA,SAAf","sourcesContent":["import React, {useState,useEffect,navigation } from \"react\";\nimport \"../css/login.css\";\nimport axios from '../../node_modules/axios';\nimport { useHistory,withRouter} from \"react-router-dom\";\n\nfunction LoginPage(props){\n\n    const [email,setEmail] = useState(\"\");\n    const [password,setPassword] = useState(\"\");    \n\n    const handleSubmit = async () => {\n\n        const USER_API_BASE_URL = \"http://localhost:8084/api/v1/users\";\n      \n        const response = await axios.get(USER_API_BASE_URL + '/' + email);\n      \n        let res = response.data;\n        if(res.password == password)\n        {\n            let data = {isLoggedIn:true,email:email,password:password}\n            // alert(\"login success!\");\n            props.onChange(data);\n            // setEmail(\"\")\n            // setPassword(\"\")\n        }\n        else{\n            let data = {isLoggedIn:false,email:\"\",password:\"\"}\n            props.onChange(data);\n            alert(\"Incorrect credentials!\")\n\n        }\n      };\n\n    return (\n        <div class=\"outer\">\n         <form onSubmit={handleSubmit}>\n            <div className=\"Model-in\">\n                <h2 className=\"tag\">Log In!</h2>\n                    \n                <input name=\"email\" type=\"email\" value={email} onChange={(Event)=>{setEmail(Event.target.value)}} placeholder=\"Email\" /><br/>\n                 \n                <input name=\"password\" type=\"password\" value={password} onChange={(Event)=>{setPassword(Event.target.value)}} placeholder=\"Password\" /><br/>\n                   \n                <input type=\"submit\" value=\"submit\" className=\"bt\" />\n                    \n                <p style={{color:\"whitesmoke\"}} className=\"forgot-password\">\n                    Forgot <a href=\"#\">password?</a>\n                </p>\n            </div>\n        </form>\n       </div>\n    );\n}\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}
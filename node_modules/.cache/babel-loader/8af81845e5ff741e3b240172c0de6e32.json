{"ast":null,"code":"import _regeneratorRuntime from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"../css/login.css\";import axios from'../../node_modules/axios';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var USER_API_BASE_URL,response,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// event.preventDefault();\nUSER_API_BASE_URL=\"http://localhost:8084/api/v1/users\";_context.next=3;return axios.get(USER_API_BASE_URL+'/'+email);case 3:response=_context.sent;console.log(response);console.log(response.data);res=response.data;if(res.password==password){alert(\"login success!\");history.push(\"/dashboard\");}else{alert(\"Incorrect credentials!\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{class:\"outer\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Model\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"tag\",children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:email,onchange:setEmail(email),type:\"email\",placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",value:password,onchange:setPassword(password),type:\"password\",placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"submit\",className:\"bt\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"forgot-password text-right\",children:[\"Forgot \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"password?\"})]})]})})});}export default LoginPage;","map":{"version":3,"sources":["/home/hritik/Desktop/spring-react/frontend/src/components/LoginPage.js"],"names":["React","useState","axios","useHistory","LoginPage","email","setEmail","password","setPassword","history","handleSubmit","USER_API_BASE_URL","get","response","console","log","data","res","alert","push"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA+B,OAA/B,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,QAASC,CAAAA,SAAT,EAAoB,eAESH,QAAQ,CAAC,EAAD,CAFjB,wCAETI,KAFS,eAEHC,QAFG,8BAGeL,QAAQ,CAAC,EAAD,CAHvB,yCAGTM,QAHS,eAGAC,WAHA,eAKhB,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CAEA,GAAMO,CAAAA,YAAY,0FAAG,sKACjB;AACMC,iBAFW,CAES,oCAFT,uBAIMT,CAAAA,KAAK,CAACU,GAAN,CAAUD,iBAAiB,CAAG,GAApB,CAA0BN,KAApC,CAJN,QAIXQ,QAJW,eAMjBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACIC,GARa,CAQPJ,QAAQ,CAACG,IARF,CASjB,GAAGC,GAAG,CAACV,QAAJ,EAAgBA,QAAnB,CACA,CACIW,KAAK,CAAC,gBAAD,CAAL,CACAT,OAAO,CAACU,IAAR,CAAa,YAAb,EACH,CAJD,IAKI,CACAD,KAAK,CAAC,wBAAD,CAAL,CAEH,CAjBgB,sDAAH,kBAAZR,CAAAA,YAAY,0CAAlB,CAoBA,mBACI,YAAK,KAAK,CAAC,OAAX,uBACC,aAAM,QAAQ,CAAEA,YAAhB,uBACG,aAAK,SAAS,CAAC,OAAf,wBACI,WAAI,SAAS,CAAC,KAAd,mBADJ,cAGI,cAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAEL,KAA3B,CAAkC,QAAQ,CAAEC,QAAQ,CAACD,KAAD,CAApD,CAA6D,IAAI,CAAC,OAAlE,CAA0E,WAAW,CAAC,OAAtF,EAHJ,cAKI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAEE,QAA9B,CAAwC,QAAQ,CAAEC,WAAW,CAACD,QAAD,CAA7D,CAAyE,IAAI,CAAC,UAA9E,CAAyF,WAAW,CAAC,UAArG,EALJ,cAOI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,SAAS,CAAC,IAA9C,EAPJ,cASI,WAAG,SAAS,CAAC,4BAAb,kCACW,UAAG,IAAI,CAAC,GAAR,uBADX,GATJ,GADH,EADD,EADJ,CAmBH,CACD,cAAeH,CAAAA,SAAf","sourcesContent":["import React, {useState } from \"react\";\nimport \"../css/login.css\";\nimport axios from '../../node_modules/axios';\nimport { useHistory } from \"react-router-dom\";\n\nfunction LoginPage(){\n\n    const [email,setEmail] = useState(\"\");\n    const [password,setPassword] = useState(\"\");    \n\n    const history = useHistory();\n\n    const handleSubmit = async () => {\n        // event.preventDefault();\n        const USER_API_BASE_URL = \"http://localhost:8084/api/v1/users\";\n      \n        const response = await axios.get(USER_API_BASE_URL + '/' + email);\n      \n        console.log(response);\n        console.log(response.data);\n        let res = response.data;\n        if(res.password == password)\n        {\n            alert(\"login success!\");\n            history.push(\"/dashboard\");\n        }\n        else{\n            alert(\"Incorrect credentials!\")\n\n        }\n      };\n\n    return (\n        <div class=\"outer\">\n         <form onSubmit={handleSubmit}>\n            <div className=\"Model\">\n                <h2 className=\"tag\">Login</h2>\n                    \n                <input name=\"email\" value={email} onchange={setEmail(email)} type=\"email\" placeholder=\"Email\" />\n                 \n                <input name=\"password\" value={password} onchange={setPassword(password)} type=\"password\" placeholder=\"Password\" />\n                   \n                <input type=\"submit\" value=\"submit\" className=\"bt\" />\n                    \n                <p className=\"forgot-password text-right\">\n                    Forgot <a href=\"#\">password?</a>\n                </p>\n            </div>\n        </form>\n       </div>\n    );\n}\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}
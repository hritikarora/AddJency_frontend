{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\spring-react\\\\frontend\\\\src\\\\components\\\\Homepage\\\\HomePage.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom'; // import cookie from 'react-cookies';\n\nimport { Redirect } from 'react-router';\nimport axios from 'axios';\nimport { ROOT_URL } from '../constants/constants';\nimport { Form, DatePicker, TimePicker, Button, Input, InputNumber, Radio, Modal, Select, Switch, Icon } from 'antd'; // import 'antd/dist/antd.css';\n\nimport { Row, Col } from 'react-bootstrap';\nimport NavBar from '../NavBar/NavBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  MonthPicker,\n  RangePicker\n} = DatePicker;\nconst {\n  Option\n} = Select;\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleLogout = () => {\n      // cookie.remove('cookie', { path: '/' });\n      sessionStorage.clear();\n    };\n\n    this.handlePropertyChange = e => {\n      console.log(e);\n      this.state.propertyType = [];\n\n      if (e) {\n        this.setState({\n          propertyType: [...this.state.propertyType, e]\n        });\n      } else {\n        let remove = this.state.propertyType.indexOf(e);\n        this.setState({\n          propertyType: this.state.propertyType.filter((_, i) => i !== remove)\n        }, () => {\n          console.log('fruits', this.state.propertyType);\n        });\n      }\n\n      console.log(this.state.propertyType);\n    };\n\n    this.dateChangeHandler = e => {\n      console.log(e);\n      console.log(\"first date is start date\", e[0].format('YYYY-MM-DD'));\n      console.log(\"first date is start date\", e[1].format('YYYY-MM-DD'));\n      let startDate = new Date(e[0]._d);\n      startDate.setHours(0, 0, 0, 0); // let currentDate1 = new Date();\n\n      let currentDate1 = this.state.currentDate;\n      currentDate1.setHours(0, 0, 0, 0);\n      console.log(\"!!!!!!!!!!!!!!!\", currentDate1);\n\n      if (e && startDate < currentDate1) {\n        console.log(\"new Date(e[0]._d)\", new Date(e[0]._d));\n        console.log(\"new Date\", new Date());\n        console.log(\"Invalid Date\");\n        this.setState({\n          dateErr: \"Date is required and start date cannot be before today's date.\",\n          dateErrFlag: true,\n          activeSearch: true\n        });\n        document.getElementById(\"try-error\").innerHTML = \"Past dates are not valid!\";\n      } else {\n        console.log(\"===== date is changed =====\");\n        const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n\n        const firstDate = Date.parse(e[0].format('YYYY-MM-DD'));\n        const secondDate = Date.parse(e[1].format('YYYY-MM-DD'));\n        let currentDate1 = new Date();\n        currentDate1.setHours(0, 0, 0, 0);\n        const diffDays = Math.round(Math.abs((firstDate - secondDate) / oneDay));\n        const yearCheck = Math.round(Math.abs((firstDate - currentDate1) / oneDay));\n        console.log(\"===== diffDays=====\", diffDays + 1);\n        console.log(\"===== yearCheck ==== \", yearCheck);\n\n        if (diffDays + 1 > 14 || yearCheck > 365) {\n          if (diffDays + 1 > 14) {\n            document.getElementById(\"try-error\").innerHTML = \"Please select dates within range of 14 days\";\n          } else {\n            document.getElementById(\"try-error\").innerHTML = \"Please select dates within range of a year from today's date\";\n          }\n\n          this.setState({\n            activeSearch: true\n          });\n        } else {\n          document.getElementById(\"try-error\").innerHTML = \"\";\n          this.setState({\n            activeSearch: false\n          });\n          console.log(\"\\n - - - - - - - - - Start date : \" + e[0]._d);\n          console.log(\"Type of start date : \" + typeof e[0]._d);\n          console.log(\"\\n - - - - - - - - - End date : \" + e[1]._d);\n          this.setState({\n            dateErr: \"\",\n            dateErrFlag: false\n          });\n        }\n      }\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.authFlag) {\n        console.log(\"here\");\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this);\n      }\n    };\n\n    this.handleSearchSubmit = async e => {\n      e.preventDefault();\n\n      const _this = this;\n\n      this.props.form.validateFields(async (err, fieldsValue) => {\n        if (err) {\n          return;\n        } // Should format date value before submit.\n\n\n        const rangeValue = fieldsValue['rangepicker'];\n        const values = { ...fieldsValue,\n          'rangepicker': [rangeValue[0].format('YYYY-MM-DD'), rangeValue[1].format('YYYY-MM-DD')]\n        };\n        console.log('Received values of form: ', values);\n        console.log(\"sharingType\", this.state.sharingType);\n        console.log(\"propertyType\", this.state.propertyType);\n        console.log(\"minPrice \", this.state.minPrice);\n        console.log(\"maxPrice \", this.state.maxPrice);\n        console.log(\"internet \", this.state.internet);\n        console.log(\"keywords \", this.state.keywords);\n        sessionStorage.setItem(\"startDate\", values.rangepicker[0]);\n        sessionStorage.setItem(\"endDate\", values.rangepicker[1]);\n        const data = {\n          city: values.location,\n          startDate: values.rangepicker[0],\n          //i need to add this to UI, was not sure where is the use of this\n          endDate: values.rangepicker[1]\n        };\n        console.log(\"data fetched from req: \", data);\n        await axios.get(`${ROOT_URL}/getProperties/search`, {\n          params: data\n        }).then(response => {\n          console.log(response);\n          if (response.status === 200) console.log(\"Response from java : \", response);\n\n          _this.props.history.push({\n            pathname: '/viewHomes',\n            search: `?city=${data.city}&startDate=${data.startDate}&endDate=${data.endDate}`,\n            state: {\n              properties: response.data.propertyDetails\n            }\n          });\n        }).catch(error => {\n          console.log(\"error occured in fetching properties for the search\", error);\n        });\n      });\n    };\n\n    this.state = {\n      username: sessionStorage.getItem(\"username\"),\n      authFlag: false,\n      sharingType: \"entire\",\n      propertyType: [],\n      visible: false,\n      minPrice: \"\",\n      maxPrice: \"\",\n      internet: true,\n      keywords: \"\",\n      activeSearch: true,\n      dateErr: \"\",\n      dateErrFlag: true,\n      currentDate: \"\"\n    };\n    this.handleLogout = this.handleLogout.bind(this);\n    this.handlePropertyChange = this.handlePropertyChange.bind(this);\n  } //handle logout to destroy the cookie\n\n\n  componentDidMount() {\n    axios.get(`${ROOT_URL}/systemdate`).then(response => {\n      console.log(\"response\", response);\n\n      if (response.data) {\n        this.setState({\n          currentDate: new Date(response.data)\n        });\n        console.log(response.data); // console.log(moment(response.data));\n        // console.log(\"CURRENT JAVASCRIPT TIME\", moment());\n      }\n    }).catch(error => {\n      console.log(\"=====errror\", error);\n    });\n  }\n\n  componentWillMount() {\n    this.setState({\n      authFlag: false\n    });\n  }\n\n  render() {\n    let view = null;\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 8\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 16\n        }\n      }\n    };\n    const rangeConfig = {\n      rules: [{\n        type: 'array',\n        required: true,\n        message: 'Please select dates!'\n      }]\n    };\n\n    if (sessionStorage.getItem('userId') && sessionStorage.getItem('type') == \"Host\" || sessionStorage.getItem('userId') && sessionStorage.getItem('type') == \"host\") {\n      console.log(\"=== userId ===\", sessionStorage.getItem('userId'));\n      console.log(\"=== type ===\", sessionStorage.getItem('type'));\n      view = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-white\",\n          children: \"Welcome to OPEN HOME\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-white\",\n          children: \"Host a property\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-white\",\n          children: \"Host an experience\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 5\n      }, this);\n    } else {\n      console.log(\"=== userId ===\", sessionStorage.getItem('userId'));\n      console.log(\"=== type ===\", sessionStorage.getItem('type'));\n      view = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              s: 8,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"divForm\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"Book unique places to stay and things to do.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Form, { ...formItemLayout,\n                  onSubmit: this.handleSearchSubmit,\n                  children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: \"Where\",\n                    labelCol: {\n                      span: 8\n                    },\n                    wrapperCol: {\n                      span: 6\n                    },\n                    children: getFieldDecorator('location', {\n                      rules: [{\n                        required: true,\n                        message: 'Please input place!'\n                      }]\n                    })( /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 15\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                    label: \"Checkin-Checkout\",\n                    children: getFieldDecorator('rangepicker', rangeConfig)( /*#__PURE__*/_jsxDEV(RangePicker, {\n                      onChange: this.dateChangeHandler\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 59\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"try-error\",\n                    class: \"error\",\n                    class: \"text-danger\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                    wrapperCol: {\n                      xs: {\n                        span: 24,\n                        offset: 0\n                      },\n                      sm: {\n                        span: 16,\n                        offset: 8\n                      }\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      disabled: this.state.activeSearch,\n                      type: \"danger\",\n                      htmlType: \"submit\",\n                      children: \"Search\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              s: 6,\n              md: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              s: 6,\n              md: 4\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 5\n      }, this);\n    }\n\n    require(\"./HomePage.css\");\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.renderRedirect(), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"intro\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jumbotron\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"Jumbotron__wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"ValueProps hidden-xs\",\n                children: view\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Form.create({\n  name: 'time_related_controls'\n})(HomePage); // export default Form.create()(Signup);","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/spring-react/frontend/src/components/Homepage/HomePage.js"],"names":["React","Component","Link","Redirect","axios","ROOT_URL","Form","DatePicker","TimePicker","Button","Input","InputNumber","Radio","Modal","Select","Switch","Icon","Row","Col","NavBar","MonthPicker","RangePicker","Option","HomePage","constructor","props","handleLogout","sessionStorage","clear","handlePropertyChange","e","console","log","state","propertyType","setState","remove","indexOf","filter","_","i","dateChangeHandler","format","startDate","Date","_d","setHours","currentDate1","currentDate","dateErr","dateErrFlag","activeSearch","document","getElementById","innerHTML","oneDay","firstDate","parse","secondDate","diffDays","Math","round","abs","yearCheck","renderRedirect","authFlag","handleSearchSubmit","preventDefault","_this","form","validateFields","err","fieldsValue","rangeValue","values","sharingType","minPrice","maxPrice","internet","keywords","setItem","rangepicker","data","city","location","endDate","get","params","then","response","status","history","push","pathname","search","properties","propertyDetails","catch","error","username","getItem","visible","bind","componentDidMount","componentWillMount","render","view","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","rangeConfig","rules","type","required","message","offset","require","create","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// import cookie from 'react-cookies';\r\nimport { Redirect } from 'react-router';\r\nimport axios from 'axios';\r\nimport { ROOT_URL } from '../constants/constants';\r\n\r\nimport { Form, DatePicker, TimePicker, Button, Input, InputNumber, Radio, Modal, Select, Switch, Icon } from 'antd';\r\n// import 'antd/dist/antd.css';\r\nimport {\r\n\r\n\tRow, Col\r\n} from 'react-bootstrap';\r\nimport NavBar from '../NavBar/NavBar'\r\nconst { MonthPicker, RangePicker } = DatePicker;\r\nconst { Option } = Select;\r\n\r\nclass HomePage extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: sessionStorage.getItem(\"username\"),\r\n\t\t\tauthFlag: false,\r\n\t\t\tsharingType: \"entire\",\r\n\t\t\tpropertyType: [],\r\n\t\t\tvisible: false,\r\n\t\t\tminPrice: \"\",\r\n\t\t\tmaxPrice: \"\",\r\n\t\t\tinternet: true,\r\n\t\t\tkeywords: \"\",\r\n\t\t\tactiveSearch: true,\r\n\t\t\tdateErr: \"\",\r\n\t\t\tdateErrFlag: true,\r\n\t\t\tcurrentDate:\"\"\r\n\t\t}\r\n\t\tthis.handleLogout = this.handleLogout.bind(this);\r\n\t\tthis.handlePropertyChange = this.handlePropertyChange.bind(this);\r\n\r\n\t}\r\n\t//handle logout to destroy the cookie\r\n\thandleLogout = () => {\r\n\t\t// cookie.remove('cookie', { path: '/' });\r\n\t\tsessionStorage.clear();\r\n\t}\r\n\r\n\r\n\thandlePropertyChange = e => {\r\n\t\tconsole.log(e);\r\n\t\tthis.state.propertyType = []\r\n\t\tif (e) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpropertyType: [...this.state.propertyType, e],\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlet remove = this.state.propertyType.indexOf(e);\r\n\t\t\tthis.setState({\r\n\t\t\t\tpropertyType: this.state.propertyType.filter((_, i) => i !== remove)\r\n\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tconsole.log('fruits', this.state.propertyType);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\tconsole.log(this.state.propertyType);\r\n\t};\r\n\r\n\tcomponentDidMount(){\r\n\t\taxios.get(`${ROOT_URL}/systemdate`)\r\n\t\t.then((response) => {\r\n\t\t\tconsole.log(\"response\", response)\r\n\t\t\tif (response.data) {\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcurrentDate: new Date(response.data)\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(response.data);\r\n\t\t\t\t// console.log(moment(response.data));\r\n\t\t\t\t// console.log(\"CURRENT JAVASCRIPT TIME\", moment());\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.log(\"=====errror\", error)\r\n\t\t});\r\n\t}\r\n\tdateChangeHandler = e => {\r\n\t\tconsole.log(e);\r\n\t\tconsole.log(\"first date is start date\", e[0].format('YYYY-MM-DD'));\r\n\t\tconsole.log(\"first date is start date\", e[1].format('YYYY-MM-DD'));\r\n\t\tlet startDate = new Date(e[0]._d);\r\n\t\tstartDate.setHours(0, 0, 0, 0)\r\n\t\t// let currentDate1 = new Date();\r\n\t\tlet currentDate1 =this.state.currentDate;\r\n\t\tcurrentDate1.setHours(0, 0, 0, 0)\r\n\t\tconsole.log(\"!!!!!!!!!!!!!!!\",currentDate1)\r\n\r\n\t\tif (e && (startDate < currentDate1)) {\r\n\t\t\tconsole.log(\"new Date(e[0]._d)\", new Date(e[0]._d))\r\n\t\t\tconsole.log(\"new Date\", new Date())\r\n\t\t\tconsole.log(\"Invalid Date\")\r\n\t\t\tthis.setState({\r\n\t\t\t\tdateErr: \"Date is required and start date cannot be before today's date.\",\r\n\t\t\t\tdateErrFlag: true,\r\n\t\t\t\tactiveSearch: true\r\n\r\n\t\t\t})\r\n\t\t\tdocument.getElementById(\"try-error\").innerHTML = \"Past dates are not valid!\";\r\n\r\n\t\t} else {\r\n\t\t\tconsole.log(\"===== date is changed =====\");\r\n\t\t\tconst oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\r\n\t\t\tconst firstDate = Date.parse(e[0].format('YYYY-MM-DD'));\r\n\t\t\tconst secondDate = Date.parse(e[1].format('YYYY-MM-DD'));\r\n\t\t\tlet currentDate1 = new Date();\r\n\t\t\tcurrentDate1.setHours(0, 0, 0, 0)\r\n\t\t\tconst diffDays = Math.round(Math.abs((firstDate - secondDate) / oneDay));\r\n\r\n\t\t\tconst yearCheck = Math.round(Math.abs((firstDate - currentDate1) / oneDay))\r\n\t\t\tconsole.log(\"===== diffDays=====\", diffDays + 1);\r\n\t\t\tconsole.log(\"===== yearCheck ==== \", yearCheck);\r\n\t\t\tif ((diffDays + 1) > 14 || yearCheck > 365) {\r\n\t\t\t\tif (diffDays + 1 > 14) {\r\n\r\n\t\t\t\t\tdocument.getElementById(\"try-error\").innerHTML = \"Please select dates within range of 14 days\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocument.getElementById(\"try-error\").innerHTML = \"Please select dates within range of a year from today's date\";\r\n\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tactiveSearch: true\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdocument.getElementById(\"try-error\").innerHTML = \"\";\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tactiveSearch: false\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(\"\\n - - - - - - - - - Start date : \" + e[0]._d)\r\n\t\t\t\tconsole.log(\"Type of start date : \" + typeof (e[0]._d))\r\n\t\t\t\tconsole.log(\"\\n - - - - - - - - - End date : \" + e[1]._d)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdateErr: \"\",\r\n\t\t\t\t\tdateErrFlag: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.setState({\r\n\t\t\tauthFlag: false\r\n\t\t})\r\n\t}\r\n\r\n\trenderRedirect = () => {\r\n\t\tif (this.state.authFlag) {\r\n\t\t\tconsole.log(\"here\")\r\n\t\t\treturn <Redirect to='/Search' />\r\n\t\t}\r\n\r\n\t}\r\n\r\n\thandleSearchSubmit = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst _this = this\r\n\t\tthis.props.form.validateFields(async (err, fieldsValue) => {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Should format date value before submit.\r\n\t\t\tconst rangeValue = fieldsValue['rangepicker'];\r\n\t\t\tconst values = {\r\n\t\t\t\t...fieldsValue,\r\n\t\t\t\t'rangepicker': [rangeValue[0].format('YYYY-MM-DD'), rangeValue[1].format('YYYY-MM-DD')],\r\n\t\t\t};\r\n\t\t\tconsole.log('Received values of form: ', values);\r\n\t\t\tconsole.log(\"sharingType\", this.state.sharingType)\r\n\t\t\tconsole.log(\"propertyType\", this.state.propertyType)\r\n\t\t\tconsole.log(\"minPrice \", this.state.minPrice)\r\n\t\t\tconsole.log(\"maxPrice \", this.state.maxPrice)\r\n\t\t\tconsole.log(\"internet \", this.state.internet)\r\n\t\t\tconsole.log(\"keywords \", this.state.keywords)\r\n\t\t\tsessionStorage.setItem(\"startDate\", values.rangepicker[0]);\r\n\t\t\tsessionStorage.setItem(\"endDate\", values.rangepicker[1]);\r\n\t\t\tconst data = {\r\n\t\t\t\tcity: values.location,\r\n\t\t\t\tstartDate: values.rangepicker[0],\r\n\t\t\t\t//i need to add this to UI, was not sure where is the use of this\r\n\t\t\t\tendDate: values.rangepicker[1],\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"data fetched from req: \", data)\r\n\r\n\t\t\tawait axios.get(`${ROOT_URL}/getProperties/search`, { params: data })\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\tif (response.status === 200)\r\n\t\t\t\t\t\tconsole.log(\"Response from java : \", response);\r\n\t\t\t\t\t_this.props.history.push({\r\n\t\t\t\t\t\tpathname: '/viewHomes',\r\n\t\t\t\t\t\tsearch: `?city=${data.city}&startDate=${data.startDate}&endDate=${data.endDate}`,\r\n\t\t\t\t\t\tstate: { properties: response.data.propertyDetails }\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tconsole.log(\"error occured in fetching properties for the search\", error);\r\n\t\t\t\t})\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tlet view = null;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: { span: 24 },\r\n\t\t\t\tsm: { span: 8 },\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: { span: 24 },\r\n\t\t\t\tsm: { span: 16 },\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst rangeConfig = {\r\n\t\t\trules: [{ type: 'array', required: true, message: 'Please select dates!' }],\r\n\t\t};\r\n\r\n\r\n\t\tif ((sessionStorage.getItem('userId') && sessionStorage.getItem('type') == \"Host\") || (sessionStorage.getItem('userId') && sessionStorage.getItem('type') == \"host\")) {\r\n\t\t\tconsole.log(\"=== userId ===\", sessionStorage.getItem('userId'))\r\n\t\t\tconsole.log(\"=== type ===\", sessionStorage.getItem('type'))\r\n\t\t\tview = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1 className=\"text-white\">Welcome to OPEN HOME</h1>\r\n\t\t\t\t\t<h3 className=\"text-white\">Host a property</h3>\r\n\t\t\t\t\t<h3 className=\"text-white\">Host an experience</h3>\r\n\t\t\t\t</div>)\r\n\t\t} else {\r\n\t\t\tconsole.log(\"=== userId ===\", sessionStorage.getItem('userId'))\r\n\t\t\tconsole.log(\"=== type ===\", sessionStorage.getItem('type'))\r\n\t\t\tview = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col s={8} md={6}>\r\n\t\t\t\t\t\t\t\t<div id=\"divForm\">\r\n\t\t\t\t\t\t\t\t\t<h1>Book unique places to stay and things to do.</h1>\r\n\t\t\t\t\t\t\t\t\t<Form {...formItemLayout} onSubmit={this.handleSearchSubmit}>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item label=\"Where\" labelCol={{ span: 8 }} wrapperCol={{ span: 6 }} >\r\n\t\t\t\t\t\t\t\t\t\t\t{getFieldDecorator('location', {\r\n\t\t\t\t\t\t\t\t\t\t\t\trules: [{ required: true, message: 'Please input place!' }],\r\n\t\t\t\t\t\t\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item label=\"Checkin-Checkout\">\r\n\t\t\t\t\t\t\t\t\t\t\t{getFieldDecorator('rangepicker', rangeConfig)(<RangePicker onChange={this.dateChangeHandler} />)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<div id=\"try-error\" class=\"error\" class=\"text-danger\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\t\t\t\t\t\t\txs: { span: 24, offset: 0 },\r\n\t\t\t\t\t\t\t\t\t\t\t\tsm: { span: 16, offset: 8 },\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* here exist advance serach option, shifting to viewHomes.js */}\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={this.state.activeSearch} type=\"danger\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tSearch\r\n                      </Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col s={6} md={4}></Col>\r\n\t\t\t\t\t\t\t<Col s={6} md={4}></Col>\r\n\r\n\t\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\r\n\t\trequire(\"./HomePage.css\")\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<div>\r\n\t\t\t\t{/* {redirectVar} */}\r\n\t\t\t\t{this.renderRedirect()}\r\n\r\n\t\t\t\t<div id=\"intro\" >\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t<NavBar />\r\n\t\t\t\t\t\t<div className=\"jumbotron\">\r\n\t\t\t\t\t\t\t<div className=\"Jumbotron__wrapper\">\r\n\t\t\t\t\t\t\t\t<div class=\"ValueProps hidden-xs\">\r\n\t\t\t\t\t\t\t\t\t{view}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div >\r\n\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Form.create({ name: 'time_related_controls' })(HomePage);\r\n// export default Form.create()(Signup);\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,navigation}from\"react\";import\"../css/login.css\";import axios from'../../node_modules/axios';import{useHistory,withRouter}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(props){var _this=this;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var USER_API_BASE_URL,response,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:USER_API_BASE_URL=\"http://localhost:8084/api/v1/users\";_context.next=3;return axios.get(USER_API_BASE_URL+'/'+email);case 3:response=_context.sent;console.log(response);console.log(response.data);res=response.data;if(res.password==password){alert(\"login success!\");props.onChange(true,email,password);setEmail(\"\");setPassword(\"\");// history.push(\"/dashboard\");\n}else{_this.props.onSubmit(false,\"\",\"\");alert(\"Incorrect credentials!\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{class:\"outer\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Model\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"tag\",children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",value:email,onChange:function onChange(Event){setEmail(Event.target.value);},placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:password,onChange:function onChange(Event){setPassword(Event.target.value);},placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"submit\",className:\"bt\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"whitesmoke\"},className:\"forgot-password\",children:[\"Forgot \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"password?\"})]})]})})});}export default LoginPage;","map":{"version":3,"sources":["/home/hritik/Desktop/spring-react/frontend/src/components/LoginPage.js"],"names":["React","useState","useEffect","navigation","axios","useHistory","withRouter","LoginPage","props","email","setEmail","password","setPassword","history","handleSubmit","USER_API_BASE_URL","get","response","console","log","data","res","alert","onChange","onSubmit","Event","target","value","color"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,SAAxB,CAAkCC,UAAlC,KAAoD,OAApD,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,OAASC,UAAT,CAAoBC,UAApB,KAAqC,kBAArC,C,wFAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAAyB,8BAEIP,QAAQ,CAAC,EAAD,CAFZ,wCAEdQ,KAFc,eAERC,QAFQ,8BAGUT,QAAQ,CAAC,EAAD,CAHlB,yCAGdU,QAHc,eAGLC,WAHK,eAKrB,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEA,GAAMS,CAAAA,YAAY,0FAAG,sKAEXC,iBAFW,CAES,oCAFT,uBAIMX,CAAAA,KAAK,CAACY,GAAN,CAAUD,iBAAiB,CAAG,GAApB,CAA0BN,KAApC,CAJN,QAIXQ,QAJW,eAMjBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACIC,GARa,CAQPJ,QAAQ,CAACG,IARF,CASjB,GAAGC,GAAG,CAACV,QAAJ,EAAgBA,QAAnB,CACA,CACIW,KAAK,CAAC,gBAAD,CAAL,CACAd,KAAK,CAACe,QAAN,CAAe,IAAf,CAAoBd,KAApB,CAA0BE,QAA1B,EACAD,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACA;AACH,CAPD,IAQI,CACA,KAAI,CAACJ,KAAL,CAAWgB,QAAX,CAAoB,KAApB,CAA0B,EAA1B,CAA6B,EAA7B,EACAF,KAAK,CAAC,wBAAD,CAAL,CAEH,CArBgB,sDAAH,kBAAZR,CAAAA,YAAY,0CAAlB,CAwBA,mBACI,YAAK,KAAK,CAAC,OAAX,uBACC,aAAM,QAAQ,CAAEA,YAAhB,uBACG,aAAK,SAAS,CAAC,OAAf,wBACI,WAAI,SAAS,CAAC,KAAd,mBADJ,cAGI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,KAAK,CAAEL,KAAxC,CAA+C,QAAQ,CAAE,kBAACgB,KAAD,CAAS,CAACf,QAAQ,CAACe,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CAA6B,CAAhG,CAAkG,WAAW,CAAC,OAA9G,EAHJ,cAG4H,aAH5H,cAKI,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAEhB,QAA9C,CAAwD,QAAQ,CAAE,kBAACc,KAAD,CAAS,CAACb,WAAW,CAACa,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CAAgC,CAA5G,CAA8G,WAAW,CAAC,UAA1H,EALJ,cAK2I,aAL3I,cAOI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,SAAS,CAAC,IAA9C,EAPJ,cASI,WAAG,KAAK,CAAE,CAACC,KAAK,CAAC,YAAP,CAAV,CAAgC,SAAS,CAAC,iBAA1C,kCACW,UAAG,IAAI,CAAC,GAAR,uBADX,GATJ,GADH,EADD,EADJ,CAmBH,CACD,cAAerB,CAAAA,SAAf","sourcesContent":["import React, {useState,useEffect,navigation } from \"react\";\nimport \"../css/login.css\";\nimport axios from '../../node_modules/axios';\nimport { useHistory,withRouter} from \"react-router-dom\";\n\nfunction LoginPage(props){\n\n    const [email,setEmail] = useState(\"\");\n    const [password,setPassword] = useState(\"\");    \n\n    const history = useHistory();\n\n    const handleSubmit = async () => {\n\n        const USER_API_BASE_URL = \"http://localhost:8084/api/v1/users\";\n      \n        const response = await axios.get(USER_API_BASE_URL + '/' + email);\n      \n        console.log(response);\n        console.log(response.data);\n        let res = response.data;\n        if(res.password == password)\n        {\n            alert(\"login success!\");\n            props.onChange(true,email,password);\n            setEmail(\"\")\n            setPassword(\"\")\n            // history.push(\"/dashboard\");\n        }\n        else{\n            this.props.onSubmit(false,\"\",\"\");\n            alert(\"Incorrect credentials!\")\n\n        }\n      };\n\n    return (\n        <div class=\"outer\">\n         <form onSubmit={handleSubmit}>\n            <div className=\"Model\">\n                <h2 className=\"tag\">Login</h2>\n                    \n                <input name=\"email\" type=\"email\" value={email} onChange={(Event)=>{setEmail(Event.target.value)}} placeholder=\"Email\" /><br/>\n                 \n                <input name=\"password\" type=\"password\" value={password} onChange={(Event)=>{setPassword(Event.target.value)}} placeholder=\"Password\" /><br/>\n                   \n                <input type=\"submit\" value=\"submit\" className=\"bt\" />\n                    \n                <p style={{color:\"whitesmoke\"}} className=\"forgot-password\">\n                    Forgot <a href=\"#\">password?</a>\n                </p>\n            </div>\n        </form>\n       </div>\n    );\n}\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}
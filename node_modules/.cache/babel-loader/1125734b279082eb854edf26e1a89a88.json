{"ast":null,"code":"import _regeneratorRuntime from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,navigation}from\"react\";import\"../css/login.css\";import axios from'../../node_modules/axios';import{useHistory,withRouter}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userId=_useState6[0],setUserId=_useState6[1];var validateUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var USER_API_BASE_URL,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:USER_API_BASE_URL=\"http://localhost:8084/api/v1/users\";_context.next=3;return axios.get(USER_API_BASE_URL+'/'+email);case 3:response=_context.sent;return _context.abrupt(\"return\",response);case 5:case\"end\":return _context.stop();}}},_callee);}));return function validateUser(){return _ref.apply(this,arguments);};}();var handleSubmit=function handleSubmit(){var response=validateUser();var res=response.data;setUserId(res.id);if(res.password==password){var data={isLoggedIn:true,email:email,password:password,id:userId};alert(\"login success!\");props.onSubmit(data);}else{alert(\"Incorrect credentials!\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"outer\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Model-in\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"tag\",children:\"Log In!\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",value:email,onChange:function onChange(Event){setEmail(Event.target.value);},placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:password,onChange:function onChange(Event){setPassword(Event.target.value);},placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"submit\",className:\"bt\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:\"whitesmoke\"},className:\"forgot-password\",children:[\"Forgot \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"password?\"})]})]})})});}export default LoginPage;","map":{"version":3,"sources":["/home/hritik/Desktop/spring-react/frontend/src/components/LoginPage.js"],"names":["React","useState","useEffect","navigation","axios","useHistory","withRouter","LoginPage","props","email","setEmail","password","setPassword","userId","setUserId","validateUser","USER_API_BASE_URL","get","response","handleSubmit","res","data","id","isLoggedIn","alert","onSubmit","Event","target","value","color"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAwBC,SAAxB,CAAkCC,UAAlC,KAAoD,OAApD,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CACA,OAASC,UAAT,CAAoBC,UAApB,KAAqC,kBAArC,C,wFAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAAyB,eAEIP,QAAQ,CAAC,EAAD,CAFZ,wCAEdQ,KAFc,eAERC,QAFQ,8BAGUT,QAAQ,CAAC,EAAD,CAHlB,yCAGdU,QAHc,eAGLC,WAHK,8BAIMX,QAAQ,CAAC,EAAD,CAJd,yCAIdY,MAJc,eAIPC,SAJO,eAMrB,GAAMC,CAAAA,YAAY,0FAAG,kKAEXC,iBAFW,CAES,oCAFT,uBAIMZ,CAAAA,KAAK,CAACa,GAAN,CAAUD,iBAAiB,CAAG,GAApB,CAA0BP,KAApC,CAJN,QAIXS,QAJW,+CAMVA,QANU,wDAAH,kBAAZH,CAAAA,YAAY,0CAAlB,CASA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAEvB,GAAID,CAAAA,QAAQ,CAAGH,YAAY,EAA3B,CACA,GAAIK,CAAAA,GAAG,CAAGF,QAAQ,CAACG,IAAnB,CACAP,SAAS,CAACM,GAAG,CAACE,EAAL,CAAT,CAEA,GAAGF,GAAG,CAACT,QAAJ,EAAgBA,QAAnB,CACA,CACI,GAAIU,CAAAA,IAAI,CAAG,CAACE,UAAU,CAAC,IAAZ,CAAiBd,KAAK,CAACA,KAAvB,CAA6BE,QAAQ,CAACA,QAAtC,CAA+CW,EAAE,CAACT,MAAlD,CAAX,CACAW,KAAK,CAAC,gBAAD,CAAL,CACAhB,KAAK,CAACiB,QAAN,CAAeJ,IAAf,EACH,CALD,IAMI,CACAG,KAAK,CAAC,wBAAD,CAAL,CACH,CACF,CAfH,CAiBA,mBACI,YAAK,SAAS,CAAC,OAAf,uBACC,aAAM,QAAQ,CAAEL,YAAhB,uBACG,aAAK,SAAS,CAAC,UAAf,wBACI,WAAI,SAAS,CAAC,KAAd,qBADJ,cAGI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,KAAK,CAAEV,KAAxC,CAA+C,QAAQ,CAAE,kBAACiB,KAAD,CAAS,CAAChB,QAAQ,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CAA6B,CAAhG,CAAkG,WAAW,CAAC,OAA9G,EAHJ,cAG4H,aAH5H,cAKI,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAEjB,QAA9C,CAAwD,QAAQ,CAAE,kBAACe,KAAD,CAAS,CAACd,WAAW,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CAAgC,CAA5G,CAA8G,WAAW,CAAC,UAA1H,EALJ,cAK2I,aAL3I,cAOI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,SAAS,CAAC,IAA9C,EAPJ,cASI,WAAG,KAAK,CAAE,CAACC,KAAK,CAAC,YAAP,CAAV,CAAgC,SAAS,CAAC,iBAA1C,kCACW,UAAG,IAAI,CAAC,GAAR,uBADX,GATJ,GADH,EADD,EADJ,CAmBH,CACD,cAAetB,CAAAA,SAAf","sourcesContent":["import React, {useState,useEffect,navigation } from \"react\";\nimport \"../css/login.css\";\nimport axios from '../../node_modules/axios';\nimport { useHistory,withRouter} from \"react-router-dom\";\n\nfunction LoginPage(props){\n\n    const [email,setEmail] = useState(\"\");\n    const [password,setPassword] = useState(\"\");    \n    const [userId,setUserId] = useState(\"\");\n\n    const validateUser = async () => {\n\n        const USER_API_BASE_URL = \"http://localhost:8084/api/v1/users\";\n      \n        const response = await axios.get(USER_API_BASE_URL + '/' + email);\n      \n        return response;\n    }\n\n    const handleSubmit = () => {\n\n        let response = validateUser();\n        let res = response.data;\n        setUserId(res.id);\n\n        if(res.password == password)\n        {\n            let data = {isLoggedIn:true,email:email,password:password,id:userId}\n            alert(\"login success!\");\n            props.onSubmit(data);\n        }\n        else{\n            alert(\"Incorrect credentials!\")\n        }\n      };\n\n    return (\n        <div className=\"outer\">\n         <form onSubmit={handleSubmit}>\n            <div className=\"Model-in\">\n                <h2 className=\"tag\">Log In!</h2>\n                    \n                <input name=\"email\" type=\"email\" value={email} onChange={(Event)=>{setEmail(Event.target.value)}} placeholder=\"Email\" /><br/>\n                 \n                <input name=\"password\" type=\"password\" value={password} onChange={(Event)=>{setPassword(Event.target.value)}} placeholder=\"Password\" /><br/>\n                   \n                <input type=\"submit\" value=\"submit\" className=\"bt\" />\n                    \n                <p style={{color:\"whitesmoke\"}} className=\"forgot-password\">\n                    Forgot <a href=\"#\">password?</a>\n                </p>\n            </div>\n        </form>\n       </div>\n    );\n}\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/hritik/Desktop/spring-react/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import react,{Component}from'react';import reactDom from'react-dom';import'../css/dash.css';import\"../../node_modules/font-awesome/css/font-awesome.min.css\";import\"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";import Head from\"./Head\";import Card from\"./Card.js\";import hin from\"../images/hindu.jpg\";import toi from\"../images/toi.png\";import pat from\"../images/patrika2.jpg\";import UserService,{USER_NAME_SESSION_ATTRIBUTE_NAME}from\"../services/UserService\";import Notify from'./Notify';import CompanyNotify from'./CompanyNotify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(props){var _this;_classCallCheck(this,Dashboard);_this=_super.call(this,props);_this.state={currentPage:\"Dashboard\",companyName:\"\",description:\"\",Ad_date:\"\",adItems:null,adItemsCompany:null,userType:\"\",firstname:\"\",lastname:\"\",email:\"\"};_this.mySubmitHandler=_this.mySubmitHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var user=JSON.parse(sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME));console.log(user);this.setState({firstname:user.firstname});this.setState({lastname:user.lastname});this.setState({email:user.email});this.setState({userType:user.userType});// setting user type\n// getting all ads for normal user\nvar items=UserService.getAllAds().then(function(ad){console.log(ad);var items=ad.map(function(item){return/*#__PURE__*/_jsx(Notify,{companyName:item['companyName'],date:item['adDate'],status:item['status']});});_this2.setState({adItems:items});});// getting all ads for a company for company user\nvar items2=UserService.getAllAdsByCompanyName().then(function(ad){console.log(ad);var items=ad.map(function(item){return/*#__PURE__*/_jsx(CompanyNotify,{adDate:item['adDate'],desc:item['desc']});});_this2.setState({adItemsCompany:items});});}},{key:\"mySubmitHandler\",value:function mySubmitHandler(){var user=JSON.parse(sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME));if(this.state.companyName.length>0&&this.state.description.length>0){var ad={companyName:this.state.companyName,userId:user['id'],desc:this.state.description,adDate:this.state.Ad_date,status:\"Pending\"};console.log(ad);UserService.createAd(ad);alert(\"Ad request sent successfully!\");}this.componentDidMount();}},{key:\"render\",value:function render(){var _this3=this;this.myClickHandler=function(event){_this3.setState({currentPage:event.target.name});};this.myChangeHandler=function(event){var nam=event.target.name;var val=event.target.value;_this3.setState(_defineProperty({},nam,val));};return this.state.userType===\"Normal\"?/*#__PURE__*/_jsxs(\"div\",{className:\"out\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"sidebar-wrapper\",children:[/*#__PURE__*/_jsx(\"a\",{name:\"Dashboard\",class:this.state.currentPage==\"Dashboard\"?\"active\":\"\",onClick:this.myClickHandler,children:\"Home\"}),/*#__PURE__*/_jsx(\"a\",{name:\"Ad\",class:this.state.currentPage==\"Ad\"?\"active\":\"\",onClick:this.myClickHandler,children:\"Post an Ad\"}),/*#__PURE__*/_jsx(\"a\",{name:\"Profile\",class:this.state.currentPage==\"Profile\"?\"active\":\"\",onClick:this.myClickHandler,children:\"User Profile\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#contact\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#about\",children:\"About\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"content\",children:[/*#__PURE__*/_jsx(Head,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner-content\",children:[this.state.currentPage===\"Dashboard\"?/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 outer-div\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Card,{src:toi,alt:\"times of india\",title:\"TOI\",onClick:function onClick(e){return _this3.handleClick(e);}}),/*#__PURE__*/_jsx(Card,{src:pat,alt:\"patrika\",title:\"Patrika\",onClick:function onClick(e){return _this3.handleClick(e);}}),/*#__PURE__*/_jsx(Card,{src:hin,alt:\"hindu\",title:\"The Hindu\",onClick:function onClick(e){return _this3.handleClick(e);}})]})}):this.state.currentPage===\"Ad\"?/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 outer-div\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-group\",onSubmit:this.mySubmitHandler,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading\",children:\"Post an Advertisement!\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{name:\"companyName\",onChange:this.myChangeHandler,value:this.state.companyName,children:[/*#__PURE__*/_jsx(\"option\",{value:\"company name\",children:\"Select Company\"}),/*#__PURE__*/_jsx(\"option\",{value:\"TOI\",children:\"TOI\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Patrika\",children:\"Patrika\"}),/*#__PURE__*/_jsx(\"option\",{value:\"The Hindu\",children:\"The Hindu\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"label\",{for:\"Ad_post_date\",children:\"Select Date : \"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"Ad_date\",onChange:this.myChangeHandler,placeholder:\"Ad post date\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"description\",onChange:this.myChangeHandler,value:this.state.description,placeholder:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"submit\",value:\"submit\",className:\"btn btn-primary\"})]})})})}):/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 outer-div\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-group\",onSubmit:this.mySubmitHandler,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading\",children:\"User Details\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"User Type : \"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.userType}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"First name : \"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.firstname}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Last name : \"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.lastname}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Email id : \"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.email}),/*#__PURE__*/_jsx(\"br\",{})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"outer-outer\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"i\",{children:\"Notifications\"})}),this.state.adItems]})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"sidebar\",children:[/*#__PURE__*/_jsx(\"a\",{name:\"Dashboard\",class:this.state.currentPage==\"Dashboard\"?\"active\":\"\",onClick:this.myClickHandler,children:\"Home\"}),/*#__PURE__*/_jsx(\"a\",{name:\"Profile\",class:this.state.currentPage==\"Profile\"?\"active\":\"\",onClick:this.myClickHandler,children:\"User Profile\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#contact\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#about\",children:\"About\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"content\",children:this.state.currentPage===\"Dashboard\"?/*#__PURE__*/_jsx(\"div\",{className:\"outer-div\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.adItemsCompany})}):/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 outer-div\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-group\",onSubmit:this.mySubmitHandler,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading\",children:\"User Details\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"User Type : \"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.userType}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"First name : \"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.firstname}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Last name : \"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.lastname}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Email id : \"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.email}),/*#__PURE__*/_jsx(\"br\",{})]})})})})})]});}}]);return Dashboard;}(Component);export default Dashboard;","map":{"version":3,"sources":["/home/hritik/Desktop/spring-react/frontend/src/components/Dashboard.js"],"names":["react","Component","reactDom","Head","Card","hin","toi","pat","UserService","USER_NAME_SESSION_ATTRIBUTE_NAME","Notify","CompanyNotify","Dashboard","props","state","currentPage","companyName","description","Ad_date","adItems","adItemsCompany","userType","firstname","lastname","email","mySubmitHandler","bind","user","JSON","parse","sessionStorage","getItem","console","log","setState","items","getAllAds","then","ad","map","item","items2","getAllAdsByCompanyName","length","userId","desc","adDate","status","createAd","alert","componentDidMount","myClickHandler","event","target","name","myChangeHandler","nam","val","value","e","handleClick"],"mappings":"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","sourcesContent":["import react,{Component} from 'react';\nimport reactDom from 'react-dom';\nimport '../css/dash.css';\nimport \"../../node_modules/font-awesome/css/font-awesome.min.css\";\nimport \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport Head from \"./Head\";\nimport Card from \"./Card.js\";\nimport hin from \"../images/hindu.jpg\";\nimport toi from \"../images/toi.png\";\nimport pat from \"../images/patrika2.jpg\";\nimport UserService,{USER_NAME_SESSION_ATTRIBUTE_NAME} from \"../services/UserService\";\nimport Notify from './Notify';\nimport CompanyNotify from './CompanyNotify';\n\nclass Dashboard extends Component {\n\n  constructor(props)\n  {\n    super(props);\n    this.state={\n      currentPage:\"Dashboard\",\n      companyName:\"\",\n      description:\"\",\n      Ad_date:\"\",\n      adItems:null,\n      adItemsCompany:null,\n      userType:\"\",\n      \n      firstname:\"\",\n      lastname:\"\",\n      email:\"\",\n\n    }\n    this.mySubmitHandler = this.mySubmitHandler.bind(this)\n  }\n\n  componentDidMount()\n  {\n    const user = JSON.parse(sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME));\n    console.log(user)\n    \n    this.setState({firstname:user.firstname});\n    this.setState({lastname:user.lastname});\n    this.setState({email:user.email});\n    \n    this.setState({userType:user.userType});\n    \n    // setting user type\n\n    // getting all ads for normal user\n    const items = UserService.getAllAds().then((ad) =>\n     {\n       console.log(ad)\n       const items = ad.map((item) => \n        <Notify companyName={item['companyName']} date={item['adDate']} status={item['status']} />\n        )\n        this.setState({adItems:items});\n     }\n    );\n    // getting all ads for a company for company user\n    const items2 = UserService.getAllAdsByCompanyName().then((ad) =>\n    {\n      console.log(ad)\n      const items = ad.map((item) => \n       <CompanyNotify adDate={item['adDate']} desc={item['desc']} />\n       )\n       this.setState({adItemsCompany:items});\n    }\n   );\n  }\n\n  mySubmitHandler()\n  {\n    let user = JSON.parse(sessionStorage.getItem(USER_NAME_SESSION_ATTRIBUTE_NAME));\n    \n    if(this.state.companyName.length>0 && this.state.description.length>0)\n    {\n      let ad = {companyName:this.state.companyName,userId:user['id'],desc:this.state.description,adDate:this.state.Ad_date,status:\"Pending\"};\n      console.log(ad);\n      UserService.createAd(ad);\n      alert(\"Ad request sent successfully!\"); \n    }\n    this.componentDidMount();\n  }\n\n  render()\n  {\n    this.myClickHandler=(event)=>\n    {\n      this.setState({currentPage:event.target.name})\n    }\n\n    this.myChangeHandler=(event)=>\n    {\n      let nam = event.target.name;\n      let val = event.target.value;\n\n      this.setState({[nam] : val});\n    }\n\n  return (\n    this.state.userType === \"Normal\"?\n    <div className=\"out\">\n\n      <div class=\"sidebar-wrapper\">\n        \n        <a name=\"Dashboard\" class={this.state.currentPage==\"Dashboard\"?\"active\":\"\"} onClick={this.myClickHandler}>Home</a>\n        <a name=\"Ad\" class={this.state.currentPage==\"Ad\"?\"active\":\"\"} onClick={this.myClickHandler} >Post an Ad</a>\n        <a name=\"Profile\" class={this.state.currentPage==\"Profile\"?\"active\":\"\"} onClick={this.myClickHandler} >User Profile</a>\n        <a href=\"#contact\">Contact</a>\n        <a href=\"#about\">About</a>\n      </div>\n\n    <div class=\"content\">\n      <Head />\n      <div className=\"inner-content\">\n      {\n        this.state.currentPage===\"Dashboard\"\n        ?\n        <div className=\"col-md-8 outer-div\">\n          <div className=\"row\">\n            <Card src={toi} alt={\"times of india\"} title={\"TOI\"} onClick={(e)=>this.handleClick(e)} />\n            <Card src={pat} alt={\"patrika\"} title={\"Patrika\"} onClick={(e)=>this.handleClick(e)} />\n            <Card src={hin} alt={\"hindu\"} title={\"The Hindu\"} onClick={(e)=>this.handleClick(e)} />\n          </div>\n        </div>\n        :\n        this.state.currentPage===\"Ad\"?\n          <div className=\"col-md-8 outer-div\">\n              <div className=\"row\">\n                  <div className=\"col-md-8\">\n                      <form className=\"form-group\" onSubmit={this.mySubmitHandler} >\n                          <h2 className=\"heading\">Post an Advertisement!</h2><br/>\n  \n                          <select name=\"companyName\" onChange={this.myChangeHandler} value={this.state.companyName} > \n                              <option value= \"company name\">Select Company</option>\n                              <option value= \"TOI\">TOI</option>\n                              <option value= \"Patrika\">Patrika</option>\n                              <option value= \"The Hindu\">The Hindu</option>\n                          </select><br/>\n                          <hr/>\n                          <label for=\"Ad_post_date\">Select Date : </label>\n                          <input type=\"date\" name=\"Ad_date\" onChange={this.myChangeHandler} placeholder=\"Ad post date\" /><br/>\n                          <hr/>\n                          <textarea type=\"text\" name=\"description\" onChange={this.myChangeHandler} value={this.state.description} placeholder=\"Description\" /><br/>\n                          <input type=\"submit\" name=\"submit\" value=\"submit\" className=\"btn btn-primary\" />\n                      </form>\n                  </div>\n              </div>\n          </div>\n          :\n          <div className=\"col-md-8 outer-div\">\n              <div className=\"row\">\n                  <div className=\"col-md-8\">\n                      <form className=\"form-group\" onSubmit={this.mySubmitHandler} >\n                          <h2 className=\"heading\">User Details</h2><br/>\n                          <h3>User Type : </h3><p>{this.state.userType}</p><br/>\n                          <h3>First name : </h3><p>{this.state.firstname}</p><br/>\n                          <h3>Last name : </h3><p>{this.state.lastname}</p><br/>\n                          <h3>Email id : </h3><p>{this.state.email}</p><br/>\n                      </form>\n                  </div>\n              </div>\n          </div>\n      }\n      <div className=\"outer-outer\">\n        <b><i>Notifications</i></b>\n          {this.state.adItems}\n      </div>\n\n    </div>\n    </div>\n    </div>\n    :\n    <div>\n    <div class=\"sidebar\">\n      <a name=\"Dashboard\" class={this.state.currentPage==\"Dashboard\"?\"active\":\"\"} onClick={this.myClickHandler}>Home</a>\n      <a name=\"Profile\" class={this.state.currentPage==\"Profile\"?\"active\":\"\"} onClick={this.myClickHandler} >User Profile</a>\n      <a href=\"#contact\">Contact</a>\n      <a href=\"#about\">About</a>\n    </div>\n\n    <div class=\"content\">\n      {\n        this.state.currentPage===\"Dashboard\"?\n\n        <div className=\"outer-div\">\n          <div className=\"row\">\n            {this.state.adItemsCompany}\n          </div>\n        </div>\n        :\n        <div className=\"col-md-8 outer-div\">\n              <div className=\"row\">\n                  <div className=\"col-md-8\">\n                      <form className=\"form-group\" onSubmit={this.mySubmitHandler} >\n                          <h2 className=\"heading\">User Details</h2><br/>\n                          <h3>User Type : </h3><p>{this.state.userType}</p><br/>\n                          <h3>First name : </h3><p>{this.state.firstname}</p><br/>\n                          <h3>Last name : </h3><p>{this.state.lastname}</p><br/>\n                          <h3>Email id : </h3><p>{this.state.email}</p><br/>\n                      </form>\n                  </div>\n              </div>\n          </div>\n      }\n\n    </div>\n    \n    </div>\n  );\n }\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}